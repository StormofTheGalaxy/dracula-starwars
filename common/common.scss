:root {
  --d-sidebar-highlight-color: var(--primary);
  --primary-700: var(--primary-high);
  --primary-500: var(--primary-high);
  --primary-400: var(--primary-medium);
  --primary-300: var(--primary-medium);
  --highlight-bg: var(--d-hover);
}

@import 'fonts';

@keyframes background-fade-highlight {
  0% {
    background-color: var(--d-hover);
  }
  100% {
    background-color: transparent;
  }
}

a {
  color: $quaternary;
}

h1,
h2,
h3,
h4,
h5 {
  font-family: STARWARS;
  font-weight: normal;
}

.archetype-private_message {
  --pm-border-radius: 2em;
}

:root {
  --d-border-radius: initial;
  --d-border-radius-large: initial;
}

.user-card h3 {
  font-family: 'Source Sans Pro', sans-serif;
}

.sidebar-section-link-wrapper[data-list-item-name="invite"] .sidebar-section-link {
  background-color: #E45735; /* Измените на желаемый цвет */
  border-radius: 5px; /* Пример изменения формы */
  /* Добавьте любые другие стили, которые вы хотите применить */
}
.sidebar-section-link-wrapper[data-list-item-name="invite"] .sidebar-section-link {
  color: #000; /* Устанавливает цвет текста на черный */
}

.sidebar-section-link-wrapper[data-list-item-name="invite"] .sidebar-section-link .icon svg {
  fill: #000; /* Устанавливает цвет иконки на черный */
}

.category-moderators {
  display: none;
	.progressbar {
		display: none;
	}
}

.category-heading {
  display: none;
}

#header-list-area {
  padding-bottom: 5px
}

.d-modal.login-modal .login-title, .d-modal.create-account .login-title {
  font-family: 'Source Sans Pro', sans-serif;
}

html {
  font-family: 'Source Sans Pro', sans-serif;
}

textarea,
input {
  &::placeholder {
    color: var(--secondary-medium);
  }
}

tbody {
  border-top: 3px solid var(--secondary-high);
  tr.topic-list-item {
    border-bottom: 1px solid var(--secondary-high);
    background-color: var(--secondary);
  }
}

.alert.alert-info {
  background-color: var(--secondary-high);
}

.topic-list td {
  color: var(--primary);
}

// Header
.d-header {
  box-shadow: none;
  border-bottom: 1px solid var(--secondary-high);
  height: 75px;
}

// Menu Panel Links
.panel-body-contents {
  a {
    color: var(--primary);
  }
  .badge-wrapper.bullet span.badge-category {
    color: var(--primary);
    font-weight: 400;
  }
}

.user-menu .quick-access-panel li {
  .d-icon {
    color: var(--primary);
  }
}

.user-menu .quick-access-panel .d-icon,
.user-menu .quick-access-panel:hover .d-icon,
.user-notifications-list .d-icon,
.user-notifications-list:hover .d-icon {
  color: currentColor;
}

.user-menu.revamped .tabs-list .btn.active {
  background: var(--tertiary);
  color: var(--primary);
  .d-icon {
    color: var(--primary);
  }
  .badge-notification {
    background: var(--primary);
  }
}

// notifications
.d-header .unread-notifications {
  background-color: var(--success);
}
.unread-private-messages {
  background-color: var(--love);
}

// Last visit line + text
.topic-list .topic-list-item-separator td {
  border-bottom: 1px solid $highlight-high#{90};
  span {
    color: var(--highlight-high);
  }
}

// title when injected on top of topics
.extra-info-wrapper {
  .topic-link {
    color: var(--primary);
  }
  .categories-wrapper .badge-wrapper .badge-category {
    color: var(--primary);
  }
}

// not visited topics
tr:not(.visited) .link-top-line .title {
  font-weight: 600;
}

td .link-bottom-line .badge-category {
  font-weight: 400;
}

// create topic
button#create-topic {
  background-color: var(--success);
  color: var(--secondary);
  border-radius: 4px;
  .d-icon {
    color: var(--secondary);
  }
  &:hover {
    background-color: var(--success-medium);
  }
}

// header icons
.header-sidebar-toggle,
.d-header-icons {
  a,
  button {
    .d-icon {
      color: var(--primary);
    }
  }
}

// category box color
.category-boxes .category-box-inner,
.category-boxes-with-topics .category-box-inner {
  border: 1px solid var(--secondary-high);
}

// select kit collection
.select-kit-row .category-name,
.select-kit-row .name {
  color: var(--primary);
}
.select-kit-row.is-highlighted[title='no tags'] span.name {
  color: var(--tertiary);
}

// post notice
.post-notice {
  background-color: var(--secondary-high);
}

// user name on posts and chat

.topic-meta-data {
  .names .username a {
    color: var(--success);
  }
}

.chat-message-info__username__name {
  color: var(--success);
}

// custom side bar styles
.custom-nav-list {
  li:hover,
  h3 a:hover {
    background-color: var(--tertiary-500) !important;
  }
}

.custom-nav-list h3 {
  border-color: var(--secondary-high);
}

// avatar white background
img.avatar {
  background-color: var(--primary);
}

.directory .me {
  background-color: var(--tertiary-medium);
}

// topic progress
.timeline-container .topic-timeline .timeline-scrollarea {
  border-color: var(--love);
  .timeline-handle {
    background-color: var(--love);
  }
}

#topic-progress {
  color: var(--love-low);
  background-color: var(--secondary);
  border-color: var(--love);
  .bg {
    background-color: var(--love);
    border-color: var(--love);
  }
}

// composer popup
.composer-popup {
  background: var(--secondary-high);
}

// /top

.select-kit.dropdown-select-box.period-chooser
  .period-chooser-row
  .top-date-string,
.select-kit.dropdown-select-box.period-chooser
  .period-chooser-header
  h2.selected-name
  .top-date-string {
  color: var(--quaternary);
}

// posts

.read-state {
  color: var(--quaternary);
}

blockquote,
aside.quote .title {
  background: var(--primary-low);
  border-color: var(--primary-medium);
}

nav.post-controls .actions button.create,
nav.post-controls .actions a,
nav.post-controls .actions button {
  color: var(--primary-medium);
  .d-icon {
    color: currentColor;
  }
  &.d-hover {
    color: var(--primary);
  }
}

.discourse-no-touch .topic-body .actions .fade-out {
  opacity: 1;
}

pre code {
  background: var(--secondary-high);
}

// chat

.no-touch {
  .chat-message-container:hover,
  .chat-transcript:hover,
  .chat-message-container.-active,
  .-active.chat-transcript {
    pre code {
      background: var(--secondary);
    }
  }
}

.chat-transcript {
  border: 1px solid var(--primary-low);
  background: var(--secondary);
  .discourse-no-touch & {
    &:hover {
      background: inherit;

      pre code {
        background: rgba(var(--primary-rgb), 0.05);
      }
    }
  }
}

.progressbar {
  /* margin-top: 10%;*/
   position: relative;
   display: block;
   height: 10px;
   width: 100%;
   background: none;
   
   
   
   -webkit-transition: 2s linear;
   -moz-transition: 2s linear;
   -ms-transition: 2s linear;
   -o-transition: 2s linear;
   transition: 2s linear;
   
   -webkit-transition-property: width, background-color;
   -moz-transition-property: width, background-color;
   -ms-transition-property: width, background-color;
   -o-transition-property: width, background-color;
   transition-property: width, background-color;
   
   filter: blur(1px);
   -moz-filter: blur(1px);
   -webkit-filter: blur(1px);
   -o-filter: blur(1px);
   -ms-filter: blur(1px);
 }
 
 .progressbar-bar {    
   height: 10px;
   width: 0px;
   background: red;
   border-radius: 0 12px 12px 0;
   
   background: -webkit-linear-gradient(top, rgba(229, 17, 21, 1) 0%, rgba(254, 254, 254, 1) 30%, rgba(254, 254, 254, 1) 0%, rgba(254, 254, 254, 1) 60%, rgba(229, 17, 21, 1) 100%);
   
   -webkit-box-shadow: 0px 0px 8px 2px rgba(255,56,56,1);
   -moz-box-shadow: 0px 0px 8px 2px rgba(255,56,56,1);
   box-shadow: 0px 0px 8px 2px rgba(255,56,56,1);
 }

/* display nsfw blur and overlay text on any media in #nswf topics */
/* display nsfw blur and overlay text on any media in #nswf topics */
.tag-danger { 
  .topic-body .cooked img:not(.avatar,.emoji),
  .topic-body .cooked .video-container,
  .topic-body .cooked .video-placeholder-container,
  .topic-body .cooked .lazy-video-wrapper,
  .has-thumbnail img,
  .topic-thumbnail img {
        filter: blur(10px);	
        -webkit-transition: .3s ease-in-out;
        transition: .2s ease-in-out;
	}

  .topic-body .cooked img:hover,
  .topic-body .cooked iframe:hover,
  .topic-body .cooked .lazy-video-wrapper:hover,
  .topic-body .cooked .video-container:hover,
  .topic-body .cooked .video-placeholder-container:hover,
  .has-thumbnail:hover img,
  .topic-thumbnail:hover img {
        filter: blur(0);	
        -webkit-transition: .3s ease-in-out;
        transition: .2s ease-in-out;
	}

  .topic-body .cooked a.lightbox:before,
  .topic-body .cooked iframe:before,
  .has-thumbnail a:before,
  .topic-thumbnail a:before{
	    z-index:3;
        padding: 5px;
        font-size:1em;
        position:absolute;

        color:#fff;
        content: '⚠️ Опасный контент - Наведите для показа';
        background: #e86800;

	}
	
	.topic-body .cooked a.lightbox:before, 
	.topic-body .cooked iframe:before {
        top: 15px;
        left: 10px;
	}

	.topic-thumbnail a:before {
        top: 65px;
        left: 20px;
	}
	
	.topic-body .cooked a.lightbox:hover:before, 
	.topic-body .cooked iframe:hover:before,
	.topic-thumbnail a:hover:before {		
	    display:none;
	}
}
